<!DOCTYPE html>
<html>

<head>
    <title>Security Camera</title>
    <link rel="stylesheet" href="./css/style.css">
    <script type="module">
        import config from './config.js'

        window.IP = config.IP
    </script>

    <script>
        const changeRotation = (param) => {
            const request = fetch(`http://${window.IP}:5000/${param}`, {
                method: 'GET',
                credentials: 'include',
                mode: 'no-cors',
                headers: {
                    Accept: 'application/json',
                    'Content-type': 'application/json',
                    'Access-Control-Allow-Credentials': true
                }
            })

            request
                .then(response => console.log(response))
                .catch((error) => {
                    console.error(error)
                })
        }
    </script>
</head>

<body>
    <h1>SECURITY CAMERA</h1>
    <div>
        <button onclick="changeRotation('left')">←</button>
        <button onclick="changeRotation('right')">→</button>
    </div>

    <img src="stream.mjpg">

</body>

</html>