<!DOCTYPE html>
<html>

<head>
    <title>Security Camera</title>
    <link rel="stylesheet" href="./css/style.css">
    <script type="module">
        import config from './config/config.js'

        window.IP = config.IP
    </script>
    <script>
        const changeRotation = (param) => {
            const request = fetch(`http://${window.IP}:5000/${param}`, {
                method: 'GET',
                credentials: 'include',
                mode: 'no-cors',
                headers: {
                    Accept: 'application/json',
                    'Content-type': 'application/json',
                    'Access-Control-Allow-Credentials': true
                }
            })

            request
                .then(response => console.log(response))
                .catch((error) => {
                    console.error(error)
                })
        }
    </script>
</head>

<body>
    <h1>SECURITY CAMERA</h1>
    <div>
        <button onclick="changeRotation('left')">
            <img src="https://image.flaticon.com/icons/png/512/318/318477.png" style="height: 50px; width: 50px;">
        </button>
        <button onclick="changeRotation('right')">
            <img src="https://image.flaticon.com/icons/png/512/318/318476.png" style="height: 50px; width: 50px;">
        </button>
    </div>

    <img src="stream.mjpg">

    <p>William Tuominemi 2021</p>
</body>

</html>